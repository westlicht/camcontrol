<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>QP-nano: QActiveCB Struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.4 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li class="current"><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
  </ul>
</div>
<h1>QActiveCB Struct Reference</h1><!-- doxytag: class="QActiveCB" --><a class="el" href="struct_q_active.html" title="Active Object struct.">QActive</a> Control Block.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="qfn_8h-source.html">qfn.h</a>&gt;</code>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="43dc98c7b06d3a387811a45365b315a0"></a><!-- doxytag: member="QActiveCB::act" ref="43dc98c7b06d3a387811a45365b315a0" args="" -->
<a class="el" href="struct_q_active.html">QActive</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_q_active_c_b.html#43dc98c7b06d3a387811a45365b315a0">act</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">pointer to the active object structure <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5c81d2aa8bebd8125e33e5f5048bf621"></a><!-- doxytag: member="QActiveCB::queue" ref="5c81d2aa8bebd8125e33e5f5048bf621" args="" -->
<a class="el" href="struct_q_event.html">QEvent</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_q_active_c_b.html#5c81d2aa8bebd8125e33e5f5048bf621">queue</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">pointer to the event queue buffer <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d4b7088ea291a223d8cdc011e620b902"></a><!-- doxytag: member="QActiveCB::end" ref="d4b7088ea291a223d8cdc011e620b902" args="" -->
uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_q_active_c_b.html#d4b7088ea291a223d8cdc011e620b902">end</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the length of the ring buffer <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<a class="el" href="struct_q_active.html" title="Active Object struct.">QActive</a> Control Block. 
<p>
<a class="el" href="struct_q_active_c_b.html" title="QActive Control Block.">QActiveCB</a> represents the constant information that the QF-nano needs to manage the active object. <a class="el" href="struct_q_active_c_b.html" title="QActive Control Block.">QActiveCB</a> objects are grouped in the array QF_active[], which typically can be placed in ROM.<p>
The following example illustrates how to allocate and initialize the <a class="el" href="struct_q_active.html" title="Active Object struct.">QActive</a> control blocks in the array QF_active[]. <div class="fragment"><pre class="fragment"><span class="preprocessor">#include "<a class="code" href="qpn__port_8h.html" title="QP-nano port.">qpn_port.h</a>"</span>                                       <span class="comment">/* QP-nano port */</span>
<span class="preprocessor">#include "bsp.h"</span>                             <span class="comment">/* Board Support Package (BSP) */</span>
<span class="preprocessor">#include "pelican.h"</span>                               <span class="comment">/* application interface */</span>

<span class="comment">/*..........................................................................*/</span>
<span class="keyword">static</span> <a class="code" href="struct_q_event.html" title="Event structure.">QEvent</a>  l_pelicanQueue[2];
<span class="keyword">static</span> <a class="code" href="struct_q_event.html" title="Event structure.">QEvent</a>  l_pedQueue[1];

<span class="comment">/* QF_active[] array defines all active object control blocks --------------*/</span>
<a class="code" href="struct_q_active_c_b.html" title="QActive Control Block.">QActiveCB</a> <span class="keyword">const</span> <a class="code" href="qpn__port_8h.html#4f4cc7253c4d809b326498b40efd66d3" title="Macro to specify compiler-specific directive for placing a constant object in ROM...">Q_ROM</a> <a class="code" href="qpn__port_8h.html#c4b8d7dd267fd787a004ad9b58ec2283" title="Macro to specify compiler-specific directive for accessing a constant object in ROM...">Q_ROM_VAR</a> QF_active[] = {
    { (<a class="code" href="struct_q_active.html" title="Active Object struct.">QActive</a> *)0,           (<a class="code" href="struct_q_event.html" title="Event structure.">QEvent</a> *)0,    0                     },
    { (<a class="code" href="struct_q_active.html" title="Active Object struct.">QActive</a> *)&amp;AO_Pelican, l_pelicanQueue, <a class="code" href="qepn_8h.html#d58d2c6dc25f8f0f764eb69faa79eee2" title="Macro to specify compiler-specific directive for placing a constant object in ROM...">Q_DIM</a>(l_pelicanQueue) },
    { (<a class="code" href="struct_q_active.html" title="Active Object struct.">QActive</a> *)&amp;AO_Ped,     l_pedQueue,     <a class="code" href="qepn_8h.html#d58d2c6dc25f8f0f764eb69faa79eee2" title="Macro to specify compiler-specific directive for placing a constant object in ROM...">Q_DIM</a>(l_pedQueue)     }
};

<span class="comment">/* make sure that the QF_active[] array matches QF_MAX_ACTIVE in qpn_port.h */</span>
<a class="code" href="qassert_8h.html#17f551ed8492f013d533f27353c091a3">Q_ASSERT_COMPILE</a>(<a class="code" href="qpn__port_8h.html#776d2a032974db4bf9bcfde01ace1389" title="The maximum number of active objects in the application.">QF_MAX_ACTIVE</a> == <a class="code" href="qepn_8h.html#d58d2c6dc25f8f0f764eb69faa79eee2" title="Macro to specify compiler-specific directive for placing a constant object in ROM...">Q_DIM</a>(QF_active) - 1);

<span class="comment">/*..........................................................................*/</span>
<span class="keywordtype">void</span> main (<span class="keywordtype">void</span>) {
    Pelican_ctor();                          <span class="comment">/* instantiate the  Pelican AO */</span>
    Ped_ctor();                              <span class="comment">/* instantiate the  Ped     AO */</span>

    BSP_init();                                     <span class="comment">/* initialize the board */</span>

    <a class="code" href="qfn_8h.html#7a41998117b4edb760b754f5ee3f61d5" title="Transfers control to QF to run the application.">QF_run</a>();                                <span class="comment">/* transfer control to QF-nano */</span>
}
</pre></div> 
<p>Definition at line <a class="el" href="qfn_8h-source.html#l00391">391</a> of file <a class="el" href="qfn_8h-source.html">qfn.h</a>.</p>
<hr>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="qfn_8h-source.html">qfn.h</a></ul>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Apr 9 13:26:46 2009 for QP-nano by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.4 </small></address>
</body>
</html>
