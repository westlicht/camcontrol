<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>QP-nano: QP-nano Reference Manual</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.4 -->
<div class="tabs">
  <ul>
    <li class="current"><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<h1>QP-nano Reference Manual</h1>
<p>
<a class="anchor" name="main_page"></a><p>
<center><b>For QP-nano version 4.0.xx and higher</b></center><p>
<div align="center">
<img src="qp_banner.jpg" alt="qp_banner.jpg">
</div>
<p>
<ul>
<li><a class="el" href="index.html#overview">QP-nano Overview</a></li><li><a class="el" href="index.html#starting">Getting Started with QP-nano</a></li><li><a class="el" href="index.html#PSiCC2">Practical UML Statecharts in C/C++, Second Edition</a></li><li><a class="el" href="index.html#licensing">Licensing Policy for QP-nano</a></li><li><a class="el" href="index.html#contact">Contact Information</a></li></ul>
<p>
<ul>
<li><a class="el" href="files_page.html">Directories and Files in the QP-nano Distribution</a></li><li><a class="el" href="rev_page.html">QP-nano Revision History</a></li></ul>
<h2><a class="anchor" name="overview">
QP-nano Overview</a></h2>
QP-nano has been specifically designed to enable event-driven programming with concurrent UML-style hierarchical state machines on low-end 8- and 16-bit single-chip microcontrollers (MCUs), such as 8051, PIC, AVR, MSP430, 68HC08/11/12, R8C/Tiny, and others alike, with a few hundred bytes of RAM and a few kilobytes of ROM. With QP, coding of modern state machines directly in C or C++ is a non-issue. <b>No big tools</b> are needed.<p>
<div align="center">
<img src="qpn_components.jpg" alt="qpn_components.jpg">
</div>
<p>
<ul>
<li><a class="el" href="qepn_page.html">QEP-nano Hierarchical Event Processor</a></li><li><a class="el" href="qfn_page.html">QF-nano Real-Time Framework</a></li><li><a class="el" href="qkn_page.html">QK-nano Preemptive Run-To-Completion Kernel</a></li></ul>
<p>
<b>QP-nano</b> requires only 1-2KB of code and just several bytes of RAM. This tiny footprint, especially in RAM, makes QP-nano ideal for high volume, <b>cost-sensitive</b> applications, such as motor control, lighting control, capacitive touch sensing, remote access control, RFID, thermostats, small appliances, toys, power supplies, battery chargers, or just about any custom system-on-a-chip (SOC or ASIC) that contains a small processor inside. Also, because the event-driven paradigm naturally uses the CPU only when handling events and otherwise can very easily switch the CPU into a low-power sleep mode (see <a class="el" href="comparison.html">10. Comparison to the Traditional Approach</a>), QP-nano is particularly suitable for <b>ultra-low power</b> applications, such as wireless sensor networks or implantable medical devices.<p>
The following diagram shows the total RAM and ROM size requried for <b>QP-nano</b>, full-version QP, small RTOS, and other popular RTOSes and OSes. Please note the logarithmic axes.<p>
<div align="center">
<img src="Fig7.02.jpg" alt="Fig7.02.jpg">
</div>
<p>
<b>QP-nano</b> is available for download from the following websites:<p>
<ul>
<li>Quantum Leaps website: <a href="http://www.state-machine.com/downloads">http://www.state-machine.com/downloads</a></li><li>SourceForge.net webiste: <a href="https://sourceforge.net/projects/qpc">https://sourceforge.net/projects/qpc</a></li></ul>
<p>
<div align="center">
<img src="qp_datasheet.gif" alt="qp_datasheet.gif">
</div>
<p>
The <b>QP Datasheet</b> (see <a href="http://www.state-machine.com/products/QP_datasheet.pdf">http://www.state-machine.com/products/QP_datasheet.pdf</a>) provides a concise summary of QP-nano features and benefits.<p>
<hr>
<h2><a class="anchor" name="starting">
Getting Started with QP-nano</a></h2>
QP-nano is distributed in a simple platform-independent ZIP file or in a self-extracing Windows executable. Either way, installing QP-nano requires simply decompressing the provided archive into a directory of your choice (e.g., <code>qpn</code> for QP-nano). The Section <a class="el" href="files_page.html">Directories and Files in the QP-nano Distribution</a> describes the content of the standard QP-nano distribution.<p>
The <b>QP-nano Tutorial</b> explains all steps necessary to develop a non-trivial QP-nano application. The Tutorial is based on Chapter 1 of <em>Practical UML Statecharts in C/C++, Second Edition</em>.<p>
<div align="center">
<img src="qp_tutorial.jpg" alt="qp_tutorial.jpg">
</div>
<p>
<ul>
<li><a class="el" href="tutorial_page.html">QP-nano Tutorial</a><ul>
<li><a class="el" href="installing.html">1. Installing QP-nano and Building QP-nano Applications</a></li><li><a class="el" href="lets_play.html">2. Let's Play</a></li><li><a class="el" href="main_function.html">3. The main() Function and the qpn_port.h Header File</a></li><li><a class="el" href="design.html">4. Designing an Event-Driven Application</a></li><li><a class="el" href="active_objects.html">5. Elaborating State Machines of Active Objects</a></li><li><a class="el" href="events.html">6. Signals, Events, and Active Objects</a></li><li><a class="el" href="coding_hsm.html">7. Coding Hierarchical State Machines</a></li><li><a class="el" href="execution.html">8. Using the Built-in Real-Time Kernels</a></li><li><a class="el" href="code_size.html">9. QP-nano Memory Usage</a></li><li><a class="el" href="comparison.html">10. Comparison to the Traditional Approach</a></li><li><a class="el" href="summary.html">11. Summary</a></li></ul>
</li></ul>
<p>
<hr>
<h2><a class="anchor" name="PSiCC2">
Practical UML Statecharts in C/C++, Second Edition</a></h2>
All versions of QP are described in detail in the book <em>Practical UML Statecharts in C/C++, Second Edition: Event-Driven Programming for Embedded Systems</em>, Newnes 2008 (ISBN-10: 0750687061, ISBN-13: 978-0750687065).<p>
<div align="center">
<img src="PSiCC2_250x200.jpg" alt="PSiCC2_250x200.jpg">
</div>
<p>
The book bridges the gap between high-level abstract concepts of the Unified Modeling Language (UML) and the actual programming aspects of modern hierarchical state machines (UML statecharts).<p>
This book is presented in two parts. In Part I, you get a practical description of the relevant state machine concepts starting from traditional finite state automata to modern UML state machines followed by state machine coding techniques with the QEP hierarchical event processor as well as several state-machine design patterns, all illustrated with executable examples.<p>
In Part II, you find a detailed design study of the QF real-time framework, QK preemptive kernel, and QS software tracing, which are indispensable for combining concurrent, event-driven state machines into robust systems. In addition to its value as a reference to the QP event-driven platform, Part II explans the key event-driven programming concepts such as inversion of control ("Hollywood Principle"), blocking versus non-blocking code, run-to-completion (RTC) execution semantics, the importance of event queues, dealing with time, and the role of state machines to maintain the context from one event to the next. This background is designed to help software developers in making the transition from the traditional sequential to the modern event-driven programming, which can be one of the trickiest paradigm shifts.<p>
<ul>
<li>Visit the accompanying website to the book at <a href="http://www.state-machine.com/psicc2/">http://www.state-machine.com/psicc2/</a> - Order the book from Amazon.com at <a href="http://www.amazon.com/exec/obidos/ASIN/0750687061/quantumleap06-20">http://www.amazon.com/exec/obidos/ASIN/0750687061/quantumleap06-20</a></li></ul>
<p>
<hr>
<h2><a class="anchor" name="licensing">
Licensing Policy for QP-nano</a></h2>
All versions of the QP software, including QP-nano, are available under <a href="http://www.state-machine.com/licensing/">dual licensing</a> model, in which both the open source software distribution mechanism and traditional closed source software licensing models are combined.<h3><a class="anchor" name="open">
Open Source Licensing</a></h3>
All versions of the QP software are available under the <a class="el" href="gpl2_page.html">GNU GENERAL PUBLIC LICENSE Version 2</a> (GPL2), as published by the Free Software Foundation and included in every distribution of the QP software. The GPL2 license is probably the best known and most established open source license. It is fully compatible with the Open Source Definition, is endorsed by the Free Software Foundation, and has been approved by the Open Source Initiative.<p>
Please note that GPL2 applies to software based not upon how it is used but upon how it is distributed. In this respect GPL2 can be restrictive, because GPL2 Section 2(b) requires that if you distribute the original software or any derivative works based on the software under copyright law, you must release all such derivative works also under the terms of the GPL2 open source license. GPL2 clearly specifies that distributing the original software or any derivative works based upon it in binary form (e.g., embedded inside devices) also represents distribution of the software.<p>
To read more about open source licensing for QP or QP-nano, or to contribute work to the open source community, please visit the following website:<p>
<ul>
<li><a href="http://www.state-machine.com/licensing/open.htm">http://www.state-machine.com/licensing/open.htm</a> - <a class="el" href="gpl2_page.html">GNU GENERAL PUBLIC LICENSE Version 2</a></li></ul>
<p>
or please contact Quantum Leaps, LLC via the following e-mail address:<p>
<ul>
<li><a href="mailto:dev@quantum-leaps.com">dev@quantum-leaps.com</a></li></ul>
<h3><a class="anchor" name="closed">
Closed Source Licensing</a></h3>
If you are developing and distributing traditional <b>closed source</b> applications, you might purchase one of the Quantum Leaps commercial licenses, which are specifically designed for users interested in retaining the proprietary status of their code. This alternative licensing is possible, because Quantum Leaps, LLC owns all intellectual property in the QP and QP-nano software and as the copyright owner can license the software any number of ways. The Quantum Leaps commercial licenses expressly supersede the <a class="el" href="gpl2_page.html">GNU GENERAL PUBLIC LICENSE Version 2</a> open source license. This means that when you license the software under a commercial license, you specifically do not use the software under the open source license and therefore you are not subject to any of its terms.<p>
To read more about the commercial licensing options, pricing, technical support, and to request a commercial license, please visit the following website:<p>
<ul>
<li><a href="http://www.state-machine.com/licensing">http://www.state-machine.com/licensing</a></li></ul>
<p>
or please contact Quantum Leaps, LLC via the following e-mail address:<p>
<ul>
<li><a href="mailto:info@quantum-leaps.com">info@quantum-leaps.com</a></li></ul>
<p>
<hr>
<h2><a class="anchor" name="contact">
Contact Information</a></h2>
<ul>
<li>Quantum Leaps Web site: <a href="http://www.state-machine.com">http://www.state-machine.com</a> - Quantum Leaps licensing: <a href="http://www.state-machine.com/licensing">http://www.state-machine.com/licensing</a> - Quantum Leaps downloads: <a href="http://www.state-machine.com/downloads">http://www.state-machine.com/downloads</a> - e-mail: <a href="mailto:info@quantum-leaps.com">info@quantum-leaps.com</a> - Skype: quantum-leaps (US Eastern Standard Time) - Toll-free: 1-866-450-LEAP (US Eastern Standard Time)</li></ul>
<p>
<div align="center">
<img src="logo_ql_TM.jpg" alt="logo_ql_TM.jpg">
</div>
 Copyright &copy; 2002-2008 Quantum Leaps, LLC. All Rights Reserved.<br>
 <a href="http://www.state-machine.com">http://www.state-machine.com</a> <hr size="1"><address style="text-align: right;"><small>Generated on Thu Apr 9 13:26:44 2009 for QP-nano by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.4 </small></address>
</body>
</html>
