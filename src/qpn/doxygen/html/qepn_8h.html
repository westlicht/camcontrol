<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>QP-nano: qepn.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.4 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<h1>qepn.h File Reference</h1>Public QEP-nano interface. <a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="qassert_8h-source.html">qassert.h</a>&quot;</code><br>

<p>
<a href="qepn_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_q_event.html">QEvent</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Event structure.  <a href="struct_q_event.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_q_fsm.html">QFsm</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finite State Machine.  <a href="struct_q_fsm.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qepn_8h.html#d58d2c6dc25f8f0f764eb69faa79eee2">Q_DIM</a>(array_)&nbsp;&nbsp;&nbsp;(sizeof(array_) / sizeof(array_[0]))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Macro to specify compiler-specific directive for placing a constant object in ROM.  <a href="#d58d2c6dc25f8f0f764eb69faa79eee2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qepn_8h.html#a094e6aed843e73b91fc3879e79139d5">Q_SIG</a>(me_)&nbsp;&nbsp;&nbsp;(((<a class="el" href="struct_q_fsm.html">QFsm</a> *)(me_))-&gt;evt.sig)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">macro to access the signal of the current event of a state machine  <a href="#a094e6aed843e73b91fc3879e79139d5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qepn_8h.html#1ca2c1f35037231e6fe510fa70fe6bb5">Q_PAR</a>(me_)&nbsp;&nbsp;&nbsp;(((<a class="el" href="struct_q_fsm.html">QFsm</a> *)(me_))-&gt;evt.par)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">macro to access the parameter of the current event of a state machine  <a href="#1ca2c1f35037231e6fe510fa70fe6bb5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qepn_8h.html#d66297c5cd81f3cadc5b4dafc8f11f8c">QFsm_ctor</a>(me_, initial_)&nbsp;&nbsp;&nbsp;((me_)-&gt;state = (initial_))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">State machine constructor.  <a href="#d66297c5cd81f3cadc5b4dafc8f11f8c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f820fa95439cbb235290c2376e3b27ac"></a><!-- doxytag: member="qepn.h::Q_RET_HANDLED" ref="f820fa95439cbb235290c2376e3b27ac" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qepn_8h.html#f820fa95439cbb235290c2376e3b27ac">Q_RET_HANDLED</a>&nbsp;&nbsp;&nbsp;((<a class="el" href="qepn_8h.html#76c35d858e243d1bd3106738573902d0">QState</a>)0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Value returned by a state-handler function when it handles the event. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qepn_8h.html#54b2da5e70ef983cfa7ca74deac237a3">Q_HANDLED</a>()&nbsp;&nbsp;&nbsp;(Q_RET_HANDLED)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Value returned by a state-handler function when it handles the event.  <a href="#54b2da5e70ef983cfa7ca74deac237a3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2e940e7de049feed8b5f214e59d21b82"></a><!-- doxytag: member="qepn.h::Q_RET_IGNORED" ref="2e940e7de049feed8b5f214e59d21b82" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qepn_8h.html#2e940e7de049feed8b5f214e59d21b82">Q_RET_IGNORED</a>&nbsp;&nbsp;&nbsp;((<a class="el" href="qepn_8h.html#76c35d858e243d1bd3106738573902d0">QState</a>)1)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Value returned by a non-hierarchical state-handler function when it ignores (does not handle) the event. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qepn_8h.html#4b1bc93dc610e97650f324dc7901cd86">Q_IGNORED</a>()&nbsp;&nbsp;&nbsp;(Q_RET_IGNORED)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The macro returned from a non-hierarchical state-handler function when it ignores (does not handle) the event.  <a href="#4b1bc93dc610e97650f324dc7901cd86"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="54c81d40e0ac5779f1bda4cb3b2c05a2"></a><!-- doxytag: member="qepn.h::Q_RET_TRAN" ref="54c81d40e0ac5779f1bda4cb3b2c05a2" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qepn_8h.html#54c81d40e0ac5779f1bda4cb3b2c05a2">Q_RET_TRAN</a>&nbsp;&nbsp;&nbsp;((<a class="el" href="qepn_8h.html#76c35d858e243d1bd3106738573902d0">QState</a>)2)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Value returned by a state-handler function when it takes a regular state transition. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qepn_8h.html#8f06cd90ba5060780fc61a4810e3eb50">Q_TRAN</a>(target_)&nbsp;&nbsp;&nbsp;(((<a class="el" href="struct_q_fsm.html">QFsm</a> *)me)-&gt;state = (<a class="el" href="qepn_8h.html#3ce817b1fa0dc321de5e1403a11d4fa3">QStateHandler</a>)(target_), Q_RET_TRAN)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Designates a target for an initial or regular transition. <a class="el" href="qepn_8h.html#8f06cd90ba5060780fc61a4810e3eb50" title="Designates a target for an initial or regular transition. Q_TRAN() can be used both...">Q_TRAN()</a> can be used both in the FSMs and HSMs.  <a href="#8f06cd90ba5060780fc61a4810e3eb50"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e4d8b7c69d1928fe4469ca02309ab7a3"></a><!-- doxytag: member="qepn.h::Q_RET_SUPER" ref="e4d8b7c69d1928fe4469ca02309ab7a3" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qepn_8h.html#e4d8b7c69d1928fe4469ca02309ab7a3">Q_RET_SUPER</a>&nbsp;&nbsp;&nbsp;((<a class="el" href="qepn_8h.html#76c35d858e243d1bd3106738573902d0">QState</a>)3)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Value returned by a state-handler function when it cannot handle the event. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qepn_8h.html#d8abd2f7098c41ec464343d9d8f1eadc">Q_SUPER</a>(super_)&nbsp;&nbsp;&nbsp;(((<a class="el" href="struct_q_fsm.html">QFsm</a> *)me)-&gt;state = (<a class="el" href="qepn_8h.html#3ce817b1fa0dc321de5e1403a11d4fa3">QStateHandler</a>)(super_),  Q_RET_SUPER)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Designates the superstate of a given state in an HSM.  <a href="#d8abd2f7098c41ec464343d9d8f1eadc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qepn_8h.html#8b773acc2e243ce416869ab83ee5679c">QHsm_ctor</a>(me_, initial_)&nbsp;&nbsp;&nbsp;((me_)-&gt;state  = (initial_))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">State machine constructor.  <a href="#8b773acc2e243ce416869ab83ee5679c"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5dae830cf35fbe668a3fa2b47452a36b"></a><!-- doxytag: member="qepn.h::QSignal" ref="5dae830cf35fbe668a3fa2b47452a36b" args="" -->
typedef uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qepn_8h.html#5dae830cf35fbe668a3fa2b47452a36b">QSignal</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Scalar type describing the signal of an event. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qepn_8h.html#691c7fae67ced229a9dd9fa1ef048379">QParam</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">type of the event parameter.  <a href="#691c7fae67ced229a9dd9fa1ef048379"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="76c35d858e243d1bd3106738573902d0"></a><!-- doxytag: member="qepn.h::QState" ref="76c35d858e243d1bd3106738573902d0" args="" -->
typedef uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qepn_8h.html#76c35d858e243d1bd3106738573902d0">QState</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Type returned from a state-handler function. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3ce817b1fa0dc321de5e1403a11d4fa3"></a><!-- doxytag: member="qepn.h::QStateHandler" ref="3ce817b1fa0dc321de5e1403a11d4fa3" args=")(void *me)" -->
typedef <a class="el" href="qepn_8h.html#76c35d858e243d1bd3106738573902d0">QState</a>(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qepn_8h.html#3ce817b1fa0dc321de5e1403a11d4fa3">QStateHandler</a> )(void *me)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the signature of a state handler function <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct QFsmTag&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qepn_8h.html#b373b2aac9a7f659f33f6ca4c2ee6732">QHsm</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">a Hierarchical State Machine.  <a href="#b373b2aac9a7f659f33f6ca4c2ee6732"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qepn_8h.html#e35e58b2153d1c63307c068315be9074">QReservedSignals</a> { <br>
&nbsp;&nbsp;<a class="el" href="qepn_8h.html#e35e58b2153d1c63307c068315be9074c286909dd59290d1076b51d4cfdfaefe">Q_ENTRY_SIG</a> =  1, 
<a class="el" href="qepn_8h.html#e35e58b2153d1c63307c068315be9074b54538c21a62926a2f1d63d8fd45bf5c">Q_EXIT_SIG</a>, 
<a class="el" href="qepn_8h.html#e35e58b2153d1c63307c068315be907428691a94425fb031be4044e817e21a60">Q_INIT_SIG</a>, 
<a class="el" href="qepn_8h.html#e35e58b2153d1c63307c068315be9074a589380759f20ac798908df5203c9947">Q_TIMEOUT_SIG</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="qepn_8h.html#e35e58b2153d1c63307c068315be90746b922ebd3f2429b5b5e7b411675fda06">Q_USER_SIG</a>
<br>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">QP reserved signals.  <a href="qepn_8h.html#e35e58b2153d1c63307c068315be9074">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char const Q_ROM *Q_ROM_VAR&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qepn_8h.html#6fcf8eae867a71ce35a36c9a07b1e1cc">QP_getVersion</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">get the current QP version number string  <a href="#6fcf8eae867a71ce35a36c9a07b1e1cc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qepn_8h.html#3a75c05854f09fb68221ececa9620f60">QFsm_init</a> (<a class="el" href="struct_q_fsm.html">QFsm</a> *me)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes a FSM.  <a href="#3a75c05854f09fb68221ececa9620f60"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qepn_8h.html#cce01c9a92f70758f07864245a3cb171">QFsm_dispatch</a> (<a class="el" href="struct_q_fsm.html">QFsm</a> *me)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dispatches an event to a FSM.  <a href="#cce01c9a92f70758f07864245a3cb171"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qepn_8h.html#25ff9e701419154624f3c7cfc175dbb0">QHsm_init</a> (<a class="el" href="qepn_8h.html#b373b2aac9a7f659f33f6ca4c2ee6732">QHsm</a> *me)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes a HSM.  <a href="#25ff9e701419154624f3c7cfc175dbb0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qepn_8h.html#5ae42e7a6a93dc8a5354abdc99d67902">QHsm_dispatch</a> (<a class="el" href="qepn_8h.html#b373b2aac9a7f659f33f6ca4c2ee6732">QHsm</a> *me)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dispatches an event to a HSM.  <a href="#5ae42e7a6a93dc8a5354abdc99d67902"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="qepn_8h.html#76c35d858e243d1bd3106738573902d0">QState</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qepn_8h.html#610f1deb5bf3b5d4ad7f605e0fbc2e30">QHsm_top</a> (<a class="el" href="qepn_8h.html#b373b2aac9a7f659f33f6ca4c2ee6732">QHsm</a> *me)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The top-state.  <a href="#610f1deb5bf3b5d4ad7f605e0fbc2e30"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Public QEP-nano interface. 
<p>
This header file must be included in all modules that use QP-nano. Typically, this header file is included indirectly through the header file <a class="el" href="qpn__port_8h.html" title="QP-nano port.">qpn_port.h</a>. 
<p>Definition in file <a class="el" href="qepn_8h-source.html">qepn.h</a>.</p>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="d58d2c6dc25f8f0f764eb69faa79eee2"></a><!-- doxytag: member="qepn.h::Q_DIM" ref="d58d2c6dc25f8f0f764eb69faa79eee2" args="(array_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Q_DIM          </td>
          <td>(</td>
          <td class="paramtype">array_&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;(sizeof(array_) / sizeof(array_[0]))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Macro to specify compiler-specific directive for placing a constant object in ROM. 
<p>
Many compilers for 8-bit Harvard-architecture MCUs provide non-stanard extensions to support placement of objects in different memories. In order to conserve the precious RAM, QP-nano uses the Q_ROM macro for all constant objects that can be allocated in ROM.<p>
To override the following empty definition, you need to define the Q_ROM macro in the <a class="el" href="qpn__port_8h.html" title="QP-nano port.">qpn_port.h</a> header file. Some examples of valid Q_ROM macro definitions are: __code (IAR 8051 compiler), code (Keil 8051 compiler), PROGMEM (gcc for AVR), __flash (IAR for AVR). Macro to specify compiler-specific directive for accessing a constant object in ROM.<p>
Many compilers for 8-bit MCUs provide different size pointers for accessing objects in various memories. Constant objects allocated in ROM (see <a class="el" href="qpn__port_8h.html#4f4cc7253c4d809b326498b40efd66d3" title="Macro to specify compiler-specific directive for placing a constant object in ROM...">Q_ROM</a> macro) often mandate the use of specific-size pointers (e.g., far pointers) to get access to ROM objects. The macro Q_ROM_VAR specifies the kind of the pointer to be used to access the ROM objects.<p>
To override the following empty definition, you need to define the Q_ROM_VAR macro in the <a class="el" href="qpn__port_8h.html" title="QP-nano port.">qpn_port.h</a> header file. An example of valid Q_ROM_VAR macro definition is: __far (Freescale HC(S)08 compiler). Macro to specify compiler-specific directive for generating reentrant function.<p>
Some compilers for 8-bit MCUs provide, most notably the Keil C51 compiler for 8051, don't generate ANSI-C compliant reentrant functions by default, due to the limited CPU architecture. These compilers allow dedicating specific functions to be reentrant with a special extended keyword (such as "reentrant" for Keil C51). The macro Q_REENTRANT is defined to nothing by default, to work with ANSI-C compliant compilers, but can be defined to "reentrant" to work with Keil C51 and perhaps other embedded compilers. helper macro to calculate static dimension of a 1-dim array <em>array_</em> 
<p>Definition at line <a class="el" href="qepn_8h-source.html#l00096">96</a> of file <a class="el" href="qepn_8h-source.html">qepn.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="54b2da5e70ef983cfa7ca74deac237a3"></a><!-- doxytag: member="qepn.h::Q_HANDLED" ref="54b2da5e70ef983cfa7ca74deac237a3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Q_HANDLED          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;(Q_RET_HANDLED)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Value returned by a state-handler function when it handles the event. 
<p>
You call that macro after the return statement (return <a class="el" href="qepn_8h.html#54b2da5e70ef983cfa7ca74deac237a3" title="Value returned by a state-handler function when it handles the event.">Q_HANDLED()</a>;) <a class="el" href="qepn_8h.html#54b2da5e70ef983cfa7ca74deac237a3" title="Value returned by a state-handler function when it handles the event.">Q_HANDLED()</a> can be used both in the FSMs and HSMs.<p>
<div class="fragment"><pre class="fragment"><span class="keyword">typedef</span> <span class="keyword">struct </span>QBombTag {
    <a class="code" href="struct_q_fsm.html" title="Finite State Machine.">QFsm</a> super;                                        <span class="comment">/* derives from QFsm */</span>
    uint8_t timeout;                    <span class="comment">/* number of seconds till explosion */</span>
    uint8_t defuse;                               <span class="comment">/* the secret defuse code */</span>
    uint8_t code;                          <span class="comment">/* the current defuse code entry */</span>
} QBomb;
</pre></div> 
<p>Definition at line <a class="el" href="qepn_8h-source.html#l00253">253</a> of file <a class="el" href="qepn_8h-source.html">qepn.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="4b1bc93dc610e97650f324dc7901cd86"></a><!-- doxytag: member="qepn.h::Q_IGNORED" ref="4b1bc93dc610e97650f324dc7901cd86" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Q_IGNORED          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;(Q_RET_IGNORED)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The macro returned from a non-hierarchical state-handler function when it ignores (does not handle) the event. 
<p>
You call that macro after the return statement (return <a class="el" href="qepn_8h.html#4b1bc93dc610e97650f324dc7901cd86" title="The macro returned from a non-hierarchical state-handler function when it ignores...">Q_IGNORED()</a>;)<p>
<div class="fragment"><pre class="fragment"><span class="keyword">typedef</span> <span class="keyword">struct </span>QBombTag {
    <a class="code" href="struct_q_fsm.html" title="Finite State Machine.">QFsm</a> super;                                        <span class="comment">/* derives from QFsm */</span>
    uint8_t timeout;                    <span class="comment">/* number of seconds till explosion */</span>
    uint8_t defuse;                               <span class="comment">/* the secret defuse code */</span>
    uint8_t code;                          <span class="comment">/* the current defuse code entry */</span>
} QBomb;
</pre></div> 
<p>Definition at line <a class="el" href="qepn_8h-source.html#l00267">267</a> of file <a class="el" href="qepn_8h-source.html">qepn.h</a>.</p>

<p>Referenced by <a class="el" href="qepn_8c-source.html#l00081">QHsm_top()</a>.</p>

</div>
</div><p>
<a class="anchor" name="1ca2c1f35037231e6fe510fa70fe6bb5"></a><!-- doxytag: member="qepn.h::Q_PAR" ref="1ca2c1f35037231e6fe510fa70fe6bb5" args="(me_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Q_PAR          </td>
          <td>(</td>
          <td class="paramtype">me_&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;(((<a class="el" href="struct_q_fsm.html">QFsm</a> *)(me_))-&gt;evt.par)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
macro to access the parameter of the current event of a state machine 
<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="struct_q_fsm.html" title="Finite State Machine.">QFsm</a> <a class="el" href="qepn_8h.html#b373b2aac9a7f659f33f6ca4c2ee6732" title="a Hierarchical State Machine.">QHsm</a> <a class="el" href="qpn__port_8h.html#44b94e1d4ae451b6c67d6503999714a8" title="The size (in bytes) of the single scalar parameter representation in the QEvent struct...">Q_PARAM_SIZE</a> </dd></dl>

<p>Definition at line <a class="el" href="qepn_8h-source.html#l00201">201</a> of file <a class="el" href="qepn_8h-source.html">qepn.h</a>.</p>

<p>Referenced by <a class="el" href="qfn_8c-source.html#l00048">QActive_post()</a>, <a class="el" href="qfn_8c-source.html#l00083">QActive_postISR()</a>, and <a class="el" href="qkn_8c-source.html#l00090">QK_schedule_()</a>.</p>

</div>
</div><p>
<a class="anchor" name="a094e6aed843e73b91fc3879e79139d5"></a><!-- doxytag: member="qepn.h::Q_SIG" ref="a094e6aed843e73b91fc3879e79139d5" args="(me_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Q_SIG          </td>
          <td>(</td>
          <td class="paramtype">me_&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;(((<a class="el" href="struct_q_fsm.html">QFsm</a> *)(me_))-&gt;evt.sig)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
macro to access the signal of the current event of a state machine 
<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="struct_q_fsm.html" title="Finite State Machine.">QFsm</a> <a class="el" href="qepn_8h.html#b373b2aac9a7f659f33f6ca4c2ee6732" title="a Hierarchical State Machine.">QHsm</a> </dd></dl>

<p>Definition at line <a class="el" href="qepn_8h-source.html#l00193">193</a> of file <a class="el" href="qepn_8h-source.html">qepn.h</a>.</p>

<p>Referenced by <a class="el" href="qfn_8c-source.html#l00048">QActive_post()</a>, <a class="el" href="qfn_8c-source.html#l00083">QActive_postISR()</a>, <a class="el" href="qepn_8c-source.html#l00065">QFsm_dispatch()</a>, <a class="el" href="qepn_8c-source.html#l00055">QFsm_init()</a>, <a class="el" href="qepn_8c-source.html#l00121">QHsm_dispatch()</a>, <a class="el" href="qepn_8c-source.html#l00086">QHsm_init()</a>, and <a class="el" href="qkn_8c-source.html#l00090">QK_schedule_()</a>.</p>

</div>
</div><p>
<a class="anchor" name="d8abd2f7098c41ec464343d9d8f1eadc"></a><!-- doxytag: member="qepn.h::Q_SUPER" ref="d8abd2f7098c41ec464343d9d8f1eadc" args="(super_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Q_SUPER          </td>
          <td>(</td>
          <td class="paramtype">super_&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;(((<a class="el" href="struct_q_fsm.html">QFsm</a> *)me)-&gt;state = (<a class="el" href="qepn_8h.html#3ce817b1fa0dc321de5e1403a11d4fa3">QStateHandler</a>)(super_),  Q_RET_SUPER)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Designates the superstate of a given state in an HSM. 
<p>
<div class="fragment"><pre class="fragment"><span class="keyword">typedef</span> <span class="keyword">struct </span>QCalcTag {
    <a class="code" href="qepn_8h.html#b373b2aac9a7f659f33f6ca4c2ee6732" title="a Hierarchical State Machine.">QHsm</a> super;                                        <span class="comment">/* derives from QHsm */</span>
    <span class="keywordtype">double</span> operand1;
    <span class="keywordtype">double</span> operand2;
    <span class="keywordtype">char</span> display[DISP_WIDTH + 1];
    uint8_t len;
    uint8_t opKey;
} QCalc;
</pre></div> 
<p>Definition at line <a class="el" href="qepn_8h-source.html#l00293">293</a> of file <a class="el" href="qepn_8h-source.html">qepn.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="8f06cd90ba5060780fc61a4810e3eb50"></a><!-- doxytag: member="qepn.h::Q_TRAN" ref="8f06cd90ba5060780fc61a4810e3eb50" args="(target_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Q_TRAN          </td>
          <td>(</td>
          <td class="paramtype">target_&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;(((<a class="el" href="struct_q_fsm.html">QFsm</a> *)me)-&gt;state = (<a class="el" href="qepn_8h.html#3ce817b1fa0dc321de5e1403a11d4fa3">QStateHandler</a>)(target_), Q_RET_TRAN)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Designates a target for an initial or regular transition. <a class="el" href="qepn_8h.html#8f06cd90ba5060780fc61a4810e3eb50" title="Designates a target for an initial or regular transition. Q_TRAN() can be used both...">Q_TRAN()</a> can be used both in the FSMs and HSMs. 
<p>
<div class="fragment"><pre class="fragment"><span class="comment">/* HSM definition ----------------------------------------------------------*/</span>
<a class="code" href="qepn_8h.html#76c35d858e243d1bd3106738573902d0" title="Type returned from a state-handler function.">QState</a> Pelican_carsGreenNoPed(Pelican *me) {
    <span class="keywordflow">switch</span> (<a class="code" href="qepn_8h.html#a094e6aed843e73b91fc3879e79139d5" title="macro to access the signal of the current event of a state machine">Q_SIG</a>(me)) {
        <span class="keywordflow">case</span> <a class="code" href="qepn_8h.html#e35e58b2153d1c63307c068315be9074c286909dd59290d1076b51d4cfdfaefe">Q_ENTRY_SIG</a>: {
            BSP_showState(me-&gt;super.prio, <span class="stringliteral">"carsGreenNoPed"</span>);
            <span class="keywordflow">return</span> <a class="code" href="qepn_8h.html#54b2da5e70ef983cfa7ca74deac237a3" title="Value returned by a state-handler function when it handles the event.">Q_HANDLED</a>();
        }
        <span class="keywordflow">case</span> PEDS_WAITING_SIG: {
            <span class="keywordflow">return</span> <a class="code" href="qepn_8h.html#8f06cd90ba5060780fc61a4810e3eb50" title="Designates a target for an initial or regular transition. Q_TRAN() can be used both...">Q_TRAN</a>(&amp;Pelican_carsGreenPedWait);
        }
        <span class="keywordflow">case</span> <a class="code" href="qepn_8h.html#e35e58b2153d1c63307c068315be9074a589380759f20ac798908df5203c9947">Q_TIMEOUT_SIG</a>: {
            <span class="keywordflow">return</span> <a class="code" href="qepn_8h.html#8f06cd90ba5060780fc61a4810e3eb50" title="Designates a target for an initial or regular transition. Q_TRAN() can be used both...">Q_TRAN</a>(&amp;Pelican_carsGreenInt);
        }
    }
    <span class="keywordflow">return</span> <a class="code" href="qepn_8h.html#d8abd2f7098c41ec464343d9d8f1eadc" title="Designates the superstate of a given state in an HSM.">Q_SUPER</a>(&amp;Pelican_carsGreen);
}
<span class="comment">/*..........................................................................*/</span>
<a class="code" href="qepn_8h.html#76c35d858e243d1bd3106738573902d0" title="Type returned from a state-handler function.">QState</a> Pelican_carsGreenPedWait(Pelican *me) {
    <span class="keywordflow">switch</span> (<a class="code" href="qepn_8h.html#a094e6aed843e73b91fc3879e79139d5" title="macro to access the signal of the current event of a state machine">Q_SIG</a>(me)) {
        <span class="keywordflow">case</span> <a class="code" href="qepn_8h.html#e35e58b2153d1c63307c068315be9074c286909dd59290d1076b51d4cfdfaefe">Q_ENTRY_SIG</a>: {
            BSP_showState(me-&gt;super.prio, <span class="stringliteral">"carsGreenPedWait"</span>);
            <span class="keywordflow">return</span> <a class="code" href="qepn_8h.html#54b2da5e70ef983cfa7ca74deac237a3" title="Value returned by a state-handler function when it handles the event.">Q_HANDLED</a>();
        }
        <span class="keywordflow">case</span> <a class="code" href="qepn_8h.html#e35e58b2153d1c63307c068315be9074a589380759f20ac798908df5203c9947">Q_TIMEOUT_SIG</a>: {
            <span class="keywordflow">return</span> <a class="code" href="qepn_8h.html#8f06cd90ba5060780fc61a4810e3eb50" title="Designates a target for an initial or regular transition. Q_TRAN() can be used both...">Q_TRAN</a>(&amp;Pelican_carsYellow);
        }
    }
    <span class="keywordflow">return</span> <a class="code" href="qepn_8h.html#d8abd2f7098c41ec464343d9d8f1eadc" title="Designates the superstate of a given state in an HSM.">Q_SUPER</a>(&amp;Pelican_carsGreen);
}

</pre></div> 
<p>Definition at line <a class="el" href="qepn_8h-source.html#l00280">280</a> of file <a class="el" href="qepn_8h-source.html">qepn.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="d66297c5cd81f3cadc5b4dafc8f11f8c"></a><!-- doxytag: member="qepn.h::QFsm_ctor" ref="d66297c5cd81f3cadc5b4dafc8f11f8c" args="(me_, initial_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define QFsm_ctor          </td>
          <td>(</td>
          <td class="paramtype">me_,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">initial_&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;((me_)-&gt;state = (initial_))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
State machine constructor. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>me_</em>&nbsp;</td><td>pointer the state machine structure derived from <a class="el" href="qepn_8h.html#b373b2aac9a7f659f33f6ca4c2ee6732" title="a Hierarchical State Machine.">QHsm</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>initial_</em>&nbsp;</td><td>is the pointer to the initial state of the state machine. </td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Must be called only ONCE before taking the initial transition with <a class="el" href="qepn_8h.html#3a75c05854f09fb68221ececa9620f60" title="Initializes a FSM.">QFsm_init()</a> and dispatching any events via <a class="el" href="qepn_8h.html#cce01c9a92f70758f07864245a3cb171" title="Dispatches an event to a FSM.">QFsm_dispatch()</a>. </dd></dl>

<p>Definition at line <a class="el" href="qepn_8h-source.html#l00213">213</a> of file <a class="el" href="qepn_8h-source.html">qepn.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="8b773acc2e243ce416869ab83ee5679c"></a><!-- doxytag: member="qepn.h::QHsm_ctor" ref="8b773acc2e243ce416869ab83ee5679c" args="(me_, initial_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define QHsm_ctor          </td>
          <td>(</td>
          <td class="paramtype">me_,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">initial_&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;((me_)-&gt;state  = (initial_))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
State machine constructor. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>me_</em>&nbsp;</td><td>pointer the state machine structure derived from <a class="el" href="qepn_8h.html#b373b2aac9a7f659f33f6ca4c2ee6732" title="a Hierarchical State Machine.">QHsm</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>initial_</em>&nbsp;</td><td>is the pointer to the initial state of the state machine. </td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Must be called only ONCE before taking the initial transition with <a class="el" href="qepn_8h.html#25ff9e701419154624f3c7cfc175dbb0" title="Initializes a HSM.">QHsm_init()</a> and dispatching any events via <a class="el" href="qepn_8h.html#5ae42e7a6a93dc8a5354abdc99d67902" title="Dispatches an event to a HSM.">QHsm_dispatch()</a>. </dd></dl>

<p>Definition at line <a class="el" href="qepn_8h-source.html#l00326">326</a> of file <a class="el" href="qepn_8h-source.html">qepn.h</a>.</p>

</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="b373b2aac9a7f659f33f6ca4c2ee6732"></a><!-- doxytag: member="qepn.h::QHsm" ref="b373b2aac9a7f659f33f6ca4c2ee6732" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct QFsmTag <a class="el" href="qepn_8h.html#b373b2aac9a7f659f33f6ca4c2ee6732">QHsm</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
a Hierarchical State Machine. 
<p>
QHsm represents a Hierarchical Finite State Machine (HSM). QHsm extends the capabilities of a basic FSM with state hierarchy.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>QHsm is not intended to be instantiated directly, but rather serves as the base structure for derivation of state machines in the application code.</dd></dl>
The following example illustrates how to derive a state machine structure from QHsm. Please note that the QHsm member super_ is defined as the FIRST member of the derived struct. <div class="fragment"><pre class="fragment"><span class="keyword">typedef</span> <span class="keyword">struct </span>QCalcTag {
    <a class="code" href="qepn_8h.html#b373b2aac9a7f659f33f6ca4c2ee6732" title="a Hierarchical State Machine.">QHsm</a> super;                                        <span class="comment">/* derives from QHsm */</span>
    <span class="keywordtype">double</span> operand1;
    <span class="keywordtype">double</span> operand2;
    <span class="keywordtype">char</span> display[DISP_WIDTH + 1];
    uint8_t len;
    uint8_t opKey;
} QCalc;
</pre></div><p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="derivation.html">Encapsulation and Single Inheritance in C</a> </dd></dl>

<p>Definition at line <a class="el" href="qepn_8h-source.html#l00316">316</a> of file <a class="el" href="qepn_8h-source.html">qepn.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="691c7fae67ced229a9dd9fa1ef048379"></a><!-- doxytag: member="qepn.h::QParam" ref="691c7fae67ced229a9dd9fa1ef048379" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint8_t <a class="el" href="qepn_8h.html#691c7fae67ced229a9dd9fa1ef048379">QParam</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
type of the event parameter. 
<p>
This typedef is configurable via the preprocessor switch <a class="el" href="qpn__port_8h.html#44b94e1d4ae451b6c67d6503999714a8" title="The size (in bytes) of the single scalar parameter representation in the QEvent struct...">Q_PARAM_SIZE</a>. The other possible values of this type are as follows: <br>
 none when (Q_PARAM_SIZE == 0); <br>
 uint8_t when (Q_PARAM_SIZE == 1); <br>
 uint16_t when (Q_PARAM_SIZE == 2); and <br>
 uint32_t when (Q_PARAM_SIZE == 4). 
<p>Definition at line <a class="el" href="qepn_8h-source.html#l00130">130</a> of file <a class="el" href="qepn_8h-source.html">qepn.h</a>.</p>

</div>
</div><p>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="e35e58b2153d1c63307c068315be9074"></a><!-- doxytag: member="qepn.h::QReservedSignals" ref="e35e58b2153d1c63307c068315be9074" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="qepn_8h.html#e35e58b2153d1c63307c068315be9074">QReservedSignals</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
QP reserved signals. 
<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="e35e58b2153d1c63307c068315be9074c286909dd59290d1076b51d4cfdfaefe"></a><!-- doxytag: member="Q_ENTRY_SIG" ref="e35e58b2153d1c63307c068315be9074c286909dd59290d1076b51d4cfdfaefe" args="" -->Q_ENTRY_SIG</em>&nbsp;</td><td>
signal for coding entry actions </td></tr>
<tr><td valign="top"><em><a class="anchor" name="e35e58b2153d1c63307c068315be9074b54538c21a62926a2f1d63d8fd45bf5c"></a><!-- doxytag: member="Q_EXIT_SIG" ref="e35e58b2153d1c63307c068315be9074b54538c21a62926a2f1d63d8fd45bf5c" args="" -->Q_EXIT_SIG</em>&nbsp;</td><td>
signal for coding exit actions </td></tr>
<tr><td valign="top"><em><a class="anchor" name="e35e58b2153d1c63307c068315be907428691a94425fb031be4044e817e21a60"></a><!-- doxytag: member="Q_INIT_SIG" ref="e35e58b2153d1c63307c068315be907428691a94425fb031be4044e817e21a60" args="" -->Q_INIT_SIG</em>&nbsp;</td><td>
signal for coding nested initial transitions </td></tr>
<tr><td valign="top"><em><a class="anchor" name="e35e58b2153d1c63307c068315be9074a589380759f20ac798908df5203c9947"></a><!-- doxytag: member="Q_TIMEOUT_SIG" ref="e35e58b2153d1c63307c068315be9074a589380759f20ac798908df5203c9947" args="" -->Q_TIMEOUT_SIG</em>&nbsp;</td><td>
signal used by time events </td></tr>
<tr><td valign="top"><em><a class="anchor" name="e35e58b2153d1c63307c068315be90746b922ebd3f2429b5b5e7b411675fda06"></a><!-- doxytag: member="Q_USER_SIG" ref="e35e58b2153d1c63307c068315be90746b922ebd3f2429b5b5e7b411675fda06" args="" -->Q_USER_SIG</em>&nbsp;</td><td>
first signal that can be used in user applications </td></tr>
</table>
</dl>

<p>Definition at line <a class="el" href="qepn_8h-source.html#l00152">152</a> of file <a class="el" href="qepn_8h-source.html">qepn.h</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="cce01c9a92f70758f07864245a3cb171"></a><!-- doxytag: member="qepn.h::QFsm_dispatch" ref="cce01c9a92f70758f07864245a3cb171" args="(QFsm *me)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QFsm_dispatch           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_q_fsm.html">QFsm</a> *&nbsp;</td>
          <td class="paramname"> <em>me</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Dispatches an event to a FSM. 
<p>
Processes one event at a time in Run-to-Completion fashion. The argument <em>me</em> is the pointer the state machine structure derived from <a class="el" href="struct_q_fsm.html" title="Finite State Machine.">QFsm</a>.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Must be called after <a class="el" href="qepn_8h.html#3a75c05854f09fb68221ececa9620f60" title="Initializes a FSM.">QFsm_init()</a>. </dd></dl>

<p>Definition at line <a class="el" href="qepn_8c-source.html#l00065">65</a> of file <a class="el" href="qepn_8c-source.html">qepn.c</a>.</p>

<p>References <a class="el" href="qepn_8h-source.html#l00153">Q_ENTRY_SIG</a>, <a class="el" href="qepn_8h-source.html#l00154">Q_EXIT_SIG</a>, <a class="el" href="qepn_8h-source.html#l00272">Q_RET_TRAN</a>, <a class="el" href="qepn_8h-source.html#l00193">Q_SIG</a>, and <a class="el" href="qepn_8h-source.html#l00185">QFsm::state</a>.</p>

<p>Referenced by <a class="el" href="qkn_8c-source.html#l00090">QK_schedule_()</a>.</p>

</div>
</div><p>
<a class="anchor" name="3a75c05854f09fb68221ececa9620f60"></a><!-- doxytag: member="qepn.h::QFsm_init" ref="3a75c05854f09fb68221ececa9620f60" args="(QFsm *me)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QFsm_init           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_q_fsm.html">QFsm</a> *&nbsp;</td>
          <td class="paramname"> <em>me</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initializes a FSM. 
<p>
Takes the top-most initial transition in a FSM. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>me</em>&nbsp;</td><td>is the pointer the state machine structure derived from FHsm.</td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Must be called only ONCE after <a class="el" href="qepn_8h.html#d66297c5cd81f3cadc5b4dafc8f11f8c" title="State machine constructor.">QFsm_ctor()</a> and before any calls to <a class="el" href="qepn_8h.html#cce01c9a92f70758f07864245a3cb171" title="Dispatches an event to a FSM.">QFsm_dispatch()</a>. </dd></dl>

<p>Definition at line <a class="el" href="qepn_8c-source.html#l00055">55</a> of file <a class="el" href="qepn_8c-source.html">qepn.c</a>.</p>

<p>References <a class="el" href="qepn_8h-source.html#l00153">Q_ENTRY_SIG</a>, <a class="el" href="qepn_8h-source.html#l00193">Q_SIG</a>, and <a class="el" href="qepn_8h-source.html#l00185">QFsm::state</a>.</p>

<p>Referenced by <a class="el" href="qkn_8c-source.html#l00058">QF_run()</a>.</p>

</div>
</div><p>
<a class="anchor" name="5ae42e7a6a93dc8a5354abdc99d67902"></a><!-- doxytag: member="qepn.h::QHsm_dispatch" ref="5ae42e7a6a93dc8a5354abdc99d67902" args="(QHsm *me)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QHsm_dispatch           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="qepn_8h.html#b373b2aac9a7f659f33f6ca4c2ee6732">QHsm</a> *&nbsp;</td>
          <td class="paramname"> <em>me</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Dispatches an event to a HSM. 
<p>
Processes one event at a time in Run-to-Completion fashion. <em>me</em> is the pointer the state machine structure derived from <a class="el" href="qepn_8h.html#b373b2aac9a7f659f33f6ca4c2ee6732" title="a Hierarchical State Machine.">QHsm</a>.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Must be called repetitively for each event after <a class="el" href="qepn_8h.html#25ff9e701419154624f3c7cfc175dbb0" title="Initializes a HSM.">QHsm_init()</a>. </dd></dl>

<p>Definition at line <a class="el" href="qepn_8c-source.html#l00121">121</a> of file <a class="el" href="qepn_8c-source.html">qepn.c</a>.</p>

<p>References <a class="el" href="qassert_8h-source.html#l00095">Q_ASSERT</a>, <a class="el" href="qepn_8h-source.html#l00153">Q_ENTRY_SIG</a>, <a class="el" href="qepn_8h-source.html#l00154">Q_EXIT_SIG</a>, <a class="el" href="qepn_8h-source.html#l00155">Q_INIT_SIG</a>, <a class="el" href="qepn_8h-source.html#l00243">Q_RET_HANDLED</a>, <a class="el" href="qepn_8h-source.html#l00258">Q_RET_IGNORED</a>, <a class="el" href="qepn_8h-source.html#l00286">Q_RET_SUPER</a>, <a class="el" href="qepn_8h-source.html#l00272">Q_RET_TRAN</a>, <a class="el" href="qepn_8h-source.html#l00193">Q_SIG</a>, <a class="el" href="qepn_8c-source.html#l00041">QEP_EMPTY_SIG_</a>, and <a class="el" href="qepn_8c-source.html#l00044">QEP_MAX_NEST_DEPTH_</a>.</p>

<p>Referenced by <a class="el" href="qkn_8c-source.html#l00090">QK_schedule_()</a>.</p>

</div>
</div><p>
<a class="anchor" name="25ff9e701419154624f3c7cfc175dbb0"></a><!-- doxytag: member="qepn.h::QHsm_init" ref="25ff9e701419154624f3c7cfc175dbb0" args="(QHsm *me)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QHsm_init           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="qepn_8h.html#b373b2aac9a7f659f33f6ca4c2ee6732">QHsm</a> *&nbsp;</td>
          <td class="paramname"> <em>me</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initializes a HSM. 
<p>
Takes the top-most initial transition in a HSM. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>me</em>&nbsp;</td><td>is the pointer the state machine structure derived from <a class="el" href="qepn_8h.html#b373b2aac9a7f659f33f6ca4c2ee6732" title="a Hierarchical State Machine.">QHsm</a>.</td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Must be called only ONCE after <a class="el" href="qepn_8h.html#8b773acc2e243ce416869ab83ee5679c" title="State machine constructor.">QHsm_ctor()</a> and before any calls to <a class="el" href="qepn_8h.html#5ae42e7a6a93dc8a5354abdc99d67902" title="Dispatches an event to a HSM.">QHsm_dispatch()</a>. </dd></dl>

<p>Definition at line <a class="el" href="qepn_8c-source.html#l00086">86</a> of file <a class="el" href="qepn_8c-source.html">qepn.c</a>.</p>

<p>References <a class="el" href="qassert_8h-source.html#l00108">Q_ALLEGE</a>, <a class="el" href="qassert_8h-source.html#l00095">Q_ASSERT</a>, <a class="el" href="qepn_8h-source.html#l00153">Q_ENTRY_SIG</a>, <a class="el" href="qepn_8h-source.html#l00155">Q_INIT_SIG</a>, <a class="el" href="qepn_8h-source.html#l00272">Q_RET_TRAN</a>, <a class="el" href="qepn_8h-source.html#l00193">Q_SIG</a>, <a class="el" href="qepn_8c-source.html#l00041">QEP_EMPTY_SIG_</a>, <a class="el" href="qepn_8c-source.html#l00044">QEP_MAX_NEST_DEPTH_</a>, and <a class="el" href="qepn_8c-source.html#l00081">QHsm_top()</a>.</p>

<p>Referenced by <a class="el" href="qkn_8c-source.html#l00058">QF_run()</a>.</p>

</div>
</div><p>
<a class="anchor" name="610f1deb5bf3b5d4ad7f605e0fbc2e30"></a><!-- doxytag: member="qepn.h::QHsm_top" ref="610f1deb5bf3b5d4ad7f605e0fbc2e30" args="(QHsm *me)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qepn_8h.html#76c35d858e243d1bd3106738573902d0">QState</a> QHsm_top           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="qepn_8h.html#b373b2aac9a7f659f33f6ca4c2ee6732">QHsm</a> *&nbsp;</td>
          <td class="paramname"> <em>me</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The top-state. 
<p>
<a class="el" href="qepn_8h.html#610f1deb5bf3b5d4ad7f605e0fbc2e30" title="The top-state.">QHsm_top()</a> is the ultimate root of state hierarchy in all HSMs derived from <a class="el" href="qepn_8h.html#b373b2aac9a7f659f33f6ca4c2ee6732" title="a Hierarchical State Machine.">QHsm</a>. This state handler always returns (QState)0, which means that it "handles" all events.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd>Example of the QCalc_on() state handler for Q_INIT(). </dd></dl>

<p>Definition at line <a class="el" href="qepn_8c-source.html#l00081">81</a> of file <a class="el" href="qepn_8c-source.html">qepn.c</a>.</p>

<p>References <a class="el" href="qepn_8h-source.html#l00267">Q_IGNORED</a>.</p>

<p>Referenced by <a class="el" href="qepn_8c-source.html#l00086">QHsm_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="6fcf8eae867a71ce35a36c9a07b1e1cc"></a><!-- doxytag: member="qepn.h::QP_getVersion" ref="6fcf8eae867a71ce35a36c9a07b1e1cc" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char const Q_ROM* Q_ROM_VAR QP_getVersion           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
get the current QP version number string 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>version of the QP as a constant 6-character string of the form x.y.zz, where x is a 1-digit major version number, y is a 1-digit minor version number, and zz is a 2-digit release number. </dd></dl>

<p>Definition at line <a class="el" href="qepn_8c-source.html#l00048">48</a> of file <a class="el" href="qepn_8c-source.html">qepn.c</a>.</p>

<p>References <a class="el" href="qpn__port_8h-source.html#l00055">Q_ROM</a>, and <a class="el" href="qpn__port_8h-source.html#l00071">Q_ROM_VAR</a>.</p>

</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Apr 9 13:26:44 2009 for QP-nano by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.4 </small></address>
</body>
</html>
