<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>QP-nano: qkn.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.4 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<h1>qkn.c File Reference</h1><code>#include &quot;<a class="el" href="qpn__port_8h-source.html">qpn_port.h</a>&quot;</code><br>

<p>
<a href="qkn_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qkn_8c.html#7a41998117b4edb760b754f5ee3f61d5">QF_run</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Transfers control to QF to run the application.  <a href="#7a41998117b4edb760b754f5ee3f61d5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qkn_8c.html#3edea3dee7fe7b9f245e361fa3df18c6">QK_schedule_</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The QK scheduler.  <a href="#3edea3dee7fe7b9f245e361fa3df18c6"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t volatile&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qkn_8c.html#81b2832f194ed3d09803c8a4e86a1a23">QK_currPrio_</a> = (uint8_t)( 8 + 1)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
QK-nano implementation. 
<p>Definition in file <a class="el" href="qkn_8c-source.html">qkn.c</a>.</p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="7a41998117b4edb760b754f5ee3f61d5"></a><!-- doxytag: member="qkn.c::QF_run" ref="7a41998117b4edb760b754f5ee3f61d5" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QF_run           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Transfers control to QF to run the application. 
<p>
<a class="el" href="qfn_8h.html#7a41998117b4edb760b754f5ee3f61d5" title="Transfers control to QF to run the application.">QF_run()</a> implemetns the simple non-preemptive scheduler. <a class="el" href="qfn_8h.html#7a41998117b4edb760b754f5ee3f61d5" title="Transfers control to QF to run the application.">QF_run()</a> must be called from your startup code after you initialize the QF and define at least one active object control block in QF_active[].<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>When the Quantum Kernel (QK) is used as the underlying real-time kernel for the QF, all platfrom dependencies are handled in the QK, so no porting of QF is necessary. In other words, you only need to recompile the QF platform-independent code with the compiler for your platform, but you don't need to provide any platform-specific implementation (so, no qf_port.c file is necessary). Moreover, QK implements the function <a class="el" href="qfn_8h.html#7a41998117b4edb760b754f5ee3f61d5" title="Transfers control to QF to run the application.">QF_run()</a> in a platform-independent way, in the modile qk.c. </dd></dl>

<p>Definition at line <a class="el" href="qkn_8c-source.html#l00058">58</a> of file <a class="el" href="qkn_8c-source.html">qkn.c</a>.</p>

<p>References <a class="el" href="qfn_8h-source.html#l00150">QActive::prio</a>, <a class="el" href="qassert_8h-source.html#l00095">Q_ASSERT</a>, <a class="el" href="qpn__port_8h-source.html#l00119">Q_ROM_PTR</a>, <a class="el" href="qfn_8h.html#d7859aaf627fc134851ae64c9ff9ed6f">QF_active</a>, <a class="el" href="qpn__port_8h-source.html#l00188">QF_INT_LOCK</a>, <a class="el" href="qpn__port_8h-source.html#l00198">QF_INT_UNLOCK</a>, <a class="el" href="qpn__port_8h-source.html#l00177">QF_MAX_ACTIVE</a>, <a class="el" href="qfn_8h.html#189a6d2ece787717c81fbf51fd180732">QF_onStartup()</a>, <a class="el" href="qepn_8c-source.html#l00055">QFsm_init()</a>, <a class="el" href="qepn_8c-source.html#l00086">QHsm_init()</a>, <a class="el" href="qkn_8h.html#667daad24b172e782fe4e2b5b06fbf61">QK_onIdle()</a>, and <a class="el" href="qkn_8h-source.html#l00084">QK_SCHEDULE_</a>.</p>

</div>
</div><p>
<a class="anchor" name="3edea3dee7fe7b9f245e361fa3df18c6"></a><!-- doxytag: member="qkn.c::QK_schedule_" ref="3edea3dee7fe7b9f245e361fa3df18c6" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QK_schedule_           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The QK scheduler. 
<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>The QK scheduler must be always called with interrupts locked. The scheduler might unlock the interrupts internally, but always returns with interrupts locked. </dd></dl>

<p>Definition at line <a class="el" href="qkn_8c-source.html#l00090">90</a> of file <a class="el" href="qkn_8c-source.html">qkn.c</a>.</p>

<p>References <a class="el" href="qfn_8h-source.html#l00163">QActive::nUsed</a>, <a class="el" href="qepn_8h-source.html#l00201">Q_PAR</a>, <a class="el" href="qpn__port_8h-source.html#l00132">Q_PARAM_SIZE</a>, <a class="el" href="qpn__port_8h-source.html#l00055">Q_ROM</a>, <a class="el" href="qpn__port_8h-source.html#l00102">Q_ROM_BYTE</a>, <a class="el" href="qpn__port_8h-source.html#l00119">Q_ROM_PTR</a>, <a class="el" href="qpn__port_8h-source.html#l00071">Q_ROM_VAR</a>, <a class="el" href="qepn_8h-source.html#l00193">Q_SIG</a>, <a class="el" href="qfn_8h.html#d7859aaf627fc134851ae64c9ff9ed6f">QF_active</a>, <a class="el" href="qpn__port_8h-source.html#l00188">QF_INT_LOCK</a>, <a class="el" href="qpn__port_8h-source.html#l00198">QF_INT_UNLOCK</a>, <a class="el" href="qfn_8c-source.html#l00039">QF_readySet_</a>, <a class="el" href="qepn_8c-source.html#l00065">QFsm_dispatch()</a>, <a class="el" href="qepn_8c-source.html#l00121">QHsm_dispatch()</a>, and <a class="el" href="qfn_8h-source.html#l00158">QActive::tail</a>.</p>

<p>Referenced by <a class="el" href="qfn_8c-source.html#l00048">QActive_post()</a>.</p>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="81b2832f194ed3d09803c8a4e86a1a23"></a><!-- doxytag: member="qkn.c::QK_currPrio_" ref="81b2832f194ed3d09803c8a4e86a1a23" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t volatile <a class="el" href="qkn_8c.html#81b2832f194ed3d09803c8a4e86a1a23">QK_currPrio_</a> = (uint8_t)( 8 + 1)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
current QK priority 
<p>Definition at line <a class="el" href="qkn_8c-source.html#l00044">44</a> of file <a class="el" href="qkn_8c-source.html">qkn.c</a>.</p>

</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Apr 9 13:26:44 2009 for QP-nano by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.4 </small></address>
</body>
</html>
